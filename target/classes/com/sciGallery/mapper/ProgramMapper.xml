<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.sciGallery.mapper.ProgramMapper">


    <update id="update" parameterType="com.sciGallery.pojo.Program">
        UPDATE tb_program
        <set>
            <if test="name != null">
                name = #{name},
            </if>
            <if test="maxCap != null">
                max_cap = #{maxCap},
            </if>
            <if test="techReq != null">
                tech_req = #{techReq},
            </if>
            <if test="costPerson != null">
                cost_person = #{costPerson},
            </if>
            <if test="duration != null">
                duration = #{duration},
            </if>
            <if test="status != null">
                status = #{status},
            </if>
            <if test="Monday != null">
                Monday = #{Monday},
            </if>
            <if test="Tuesday != null">
                Tuesday = #{Tuesday},
            </if>
            <if test="Wednesday != null">
                Wednesday = #{Wednesday},
            </if>
            <if test="Thursday != null">
                Thursday = #{Thursday},
            </if>
            <if test="Friday != null">
                Friday = #{Friday},
            </if>
            <if test="description != null">
                description = #{description},
            </if>
            <if test="category != null">
                category = #{category},
            </if>
            <if test="feeType != null">
                fee_type = #{feeType},
            </if>
        </set>
        WHERE prog_id = #{progId}
    </update>

    <select id="list" resultType="com.sciGallery.pojo.Program">
        select *
        from tb_program
        <where>
            <if test="name != null and name != ''">
                name like concat('%', #{name}, '%')
            </if>
        </where>
    </select>


</mapper>